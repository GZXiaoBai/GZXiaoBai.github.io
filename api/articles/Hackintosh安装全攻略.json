{"title":"Hackintosh安装全攻略","uid":"abffe26bc69808327979060f3d56b2b3","slug":"Hackintosh安装全攻略","date":"2020-05-16T14:09:02.000Z","updated":"2021-05-04T08:40:05.691Z","comments":true,"path":"api/articles/Hackintosh安装全攻略.json","keywords":null,"cover":"https://i.loli.net/2021/05/02/yGEk9xwH86jRo4X.jpg","content":"<p>以下内容基本摘自<strong>Eternal Qiu</strong>的博客，日后准备进行修改<br>链接：<a href=\"https://blog.qiuxiangzhi.top/2019/07/15/macOS-Guide/\">https://blog.qiuxiangzhi.top/2019/07/15/macOS-Guide/</a></p>\n<span id=\"more\"></span>\n\n<h1 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h1><p>我打算写一个教程来引导小白入坑，不在本文介绍那些复杂需要折腾的驱动问题。</p>\n<h1 id=\"警告\"><a href=\"#警告\" class=\"headerlink\" title=\"警告\"></a>警告</h1><p>请注意，本贴只做技术与学习探讨，不做任何商业和违法用途。同时请各位在实践学习后，于<strong>24小时内自行消除</strong>。</p>\n<p>在非苹果设备上安装macOS操作系统需要承担一定责任，希望各位明确用途后，仔细思考。<strong>作者不提倡</strong>读者进行下面的操作，本贴<strong>仅供技术参考</strong>。</p>\n<p>可能涉及到的法律问题：<strong>macOS1014</strong>；</p>\n<p><strong>如果您是非个人用户或用作商业用途，您应该观看上述材料中所提及问题，并不要接触实施下述操作。</strong></p>\n<h1 id=\"资源准备工作\"><a href=\"#资源准备工作\" class=\"headerlink\" title=\"资源准备工作\"></a>资源准备工作</h1><ol>\n<li>一台电脑，最好是搭载Windows 7及以上的操作系统，<strong>推荐Windows 10</strong>；</li>\n<li>一个不少于4G的U盘，<strong>8GB起步</strong>；如果安装macOS10.15（Catalina）请使用<strong>16G</strong>的U盘。</li>\n<li>工具软件（<a href=\"http://www.diskgenius.cn/\">DiskGenius专业版</a>，<a href=\"https://www.balena.io/etcher/\">balenaEtcher官方版</a>，<a href=\"http://www.wepe.com.cn/download.html\">微PE官方版</a>）；</li>\n<li>原版镜像（这里提供的是<a href=\"https://mirrors.dtops.cc/iso/MacOS/daliansky_macos/\">黑果小兵的镜像</a>，侵权删）；</li>\n<li>解压工具（此处链接的是<a href=\"https://www.7-zip.org/\">7-Zip</a>）；</li>\n<li><strong>知道如何百度</strong>；</li>\n</ol>\n<p>知道如何百度是<strong>非常重要</strong>的一件事情，因为里面涉及到一些概念，这些概念比较不那么专业，但确实也不是很常见，因此需要有一定的百度能力（主要还是有一些小白太懒了，常见诸如如何进BIOS都不愿意去百度了解）。</p>\n<h1 id=\"电脑调试工作\"><a href=\"#电脑调试工作\" class=\"headerlink\" title=\"电脑调试工作\"></a>电脑调试工作</h1><ol>\n<li><p>下载或安装好上述软件，其中<strong>DiskGenius专业版</strong>最好是免安装版的。</p>\n</li>\n<li><p>打开DiskGenius专业版，右键自己的<strong>磁盘</strong>（不是分区），查看是否是<strong>GPT分区</strong>，若不是，需要在PE下转换。</p>\n</li>\n</ol>\n<ol start=\"3\">\n<li><p>双击微PE.exe，点击右下角生成.iso文件，解压该iso文件到你的（<strong>确保它是Fat 32格式并最好转移其他文件</strong>）U盘里。</p>\n</li>\n<li><p>进入BIOS，找到<strong>你的BIOS里面</strong>的这几个选项，并将其设置成对应状态。主要有：<strong>DVMT-Preallocted（&gt;64MB）,Security Boot（disabled），SATA Mode/磁盘模式（AHCI），UEFI启动（纯），CSM（关闭），启动顺序（U盘第一位）</strong>，保存重启。</p>\n</li>\n<li><p>进入<strong>微PE</strong>，找到自己下载的<strong>DiskGenius专业版</strong>，双击打开。若硬盘格式是MBR，则将该软件挪到U盘里面，再双击打开。右键有<strong>操作系统</strong>及<strong>想安装macOS的磁盘</strong>，将其<strong>转换成GPT（GUID）格式</strong>。</p>\n</li>\n</ol>\n<ol start=\"6\">\n<li><p>查看将被安装macOS的磁盘，是否存在一个&gt;200MB的EFI分区。若没有，则可<strong>删除所有已存在的MSR分区及EFI分区</strong>，此时若磁盘最前部的空闲空间&gt;200MB，则可以<strong>直接建立EFI（EFI Partition）分区</strong>。若仍少于200MB，则右键磁盘此时的<strong>第一分区</strong>，选择调整磁盘大小，在<strong>前部空间</strong>分出200MB大小空闲空间，并新建EFI（EFI Partition）分区。</p>\n</li>\n<li><p>检查好磁盘均是<strong>GPT（GUID）格式</strong>、（<strong>Windows所在磁盘和macOS将安装的所在磁盘上</strong>）存在&gt;200MB的EFI分区，确保好这两点之后，点击PE桌面上的Dism++，选择自己的<strong>Windows操作系统</strong>，选择引导修复，（一般）无脑下一步即可。</p>\n</li>\n</ol>\n<p><code>注意事项：转换为GUID格式，会删除该硬盘的扩展分区</code></p>\n<ol start=\"8\">\n<li>电脑准备工作完成。</li>\n</ol>\n<h1 id=\"安装调试过程\"><a href=\"#安装调试过程\" class=\"headerlink\" title=\"安装调试过程\"></a>安装调试过程</h1><ol>\n<li><p>打开<strong>balenaEtcher</strong>，插入U盘，按照提示操作，选择<strong>下载好的镜像</strong>进行烧录。</p>\n</li>\n<li><p>烧录好后可以有两种选择，一步一步继续往下走或者<strong>直接跳转到第6步</strong>，（若下载的镜像为我推荐的则）两种方式都可以完成安装，推荐一步一步走。</p>\n</li>\n<li><p>在<a href=\"https://github.com/daliansky/Hackintosh\">这里</a>找到你的机型或类似配置的EFI，下载备用。若找不到请<strong>直接跳第6步操作</strong>。</p>\n</li>\n<li><p>打开DiskGenius软件，将<strong>U盘EFI分区内的所有文件删除</strong>，并<strong>使用Ctrl+V的快捷键</strong>方式将下载的EFI文件夹粘贴进去。注意，EFI文件夹下若还有一个EFI文件夹，存在嵌套情况，请直接将<strong>最里层的EFI复制进U盘的EFI分区</strong>。</p>\n</li>\n</ol>\n<ol start=\"5\">\n<li><p>检查EFI/CLOVER/ACPI/Patched/，若存在DSDT文件，直接删除。</p>\n</li>\n<li><p>重启，选择<strong>U盘作为第一启动项</strong>，选择<strong>Boot macOS install from macOS Mojave installation（macOS图标那一项）</strong>，如果你没有更换原有EFI，接着就是跑代码过程了。如果更换过了EFI，那么在移动到安装项之后，按下<strong>空格键</strong>，同样空格选择**-v<strong>，再</strong>ESC回到原有界面**安装即可。</p>\n</li>\n<li><p>若启动不顺利，碰到直接重启，卡死在某一界面，我的建议是：安装时候进行录像，将<strong>卡死</strong>或者<strong>导致重启</strong>的代码截图出来，在群里寻求帮助。当然，我更加推荐前往<a href=\"http://bbs.pcbeta.com/forum.php?gid=86\">远景论坛</a>查贴或者直接<strong>百度</strong>卡死代码解决这些问题。</p>\n</li>\n<li><p>若一切安装顺利，则它将进入安装界面。在安装界面选择<strong>磁盘工具</strong>，将预安装分区<strong>抹除成HFS分区</strong>，也即<strong>日志式</strong>，若你是<strong>固态硬盘</strong>，也可选择<strong>apfs</strong>。磁盘名字自己任意给定，白果磁盘名字为Macintosh HD，尽量避免这个名字。</p>\n</li>\n<li><p>接下来就可以进行安装了，一路下一步，选择自己刚刚命名的磁盘安装，等待安装完成。</p>\n</li>\n<li><p>安装完成会重启回到引导界面，此时选择<strong>Boot macOS install From 【你自己起的磁盘名字】</strong>，空格同样可以选择代码模式。进入第二次安装，此时不需要手动操作，等待安装完成重启即可。</p>\n</li>\n<li><p>此时回到引导界面应是已经安装完成，选择<strong>Boot macOS From 【你自己起的磁盘名字】</strong>，进入设置界面，接下来等着你的就是macOS的全新体验了。</p>\n</li>\n</ol>\n<h1 id=\"macOS、Windows-双引导\"><a href=\"#macOS、Windows-双引导\" class=\"headerlink\" title=\"macOS、Windows 双引导\"></a>macOS、Windows 双引导</h1><p>在安装完成之后，要做的就是进行引导的设置。</p>\n<p>有两种设置引导的方式，此处推荐使用的是PE进行引导的建立，也介绍Windows下设置引导的方法介绍。</p>\n<ol>\n<li><strong>Windows环境下完成引导的设置。</strong></li>\n</ol>\n<p><code>在Windows下设置引导需要借助软件完成，软件名称及官网下载[在这里](https://www.easyuefi.com/index-us.html)。该软件我们需要的是企业版，普通版本没有添加引导的功能，注意甄别。</code></p>\n<p>下载完软件后，先打开DiskGenius，将<strong>U盘里面的ESP（EFI）分区中Clover文件夹</strong>整个复制到桌面。再<strong>通过Ctrl+V</strong>的方式，粘贴在<strong>Windows启动磁盘的ESP分区中EFI文件夹</strong>下。</p>\n<p>（<strong>Windows、macOS在不同磁盘下时</strong>）也可以复制整个EFI文件夹到macOS所在磁盘的ESP分区。<br>新手小白建议前述操作。</p>\n<p>接下来打开easyUEFI，选择新建引导项，引导类型选择“<strong>Linux或其他</strong>”，名称只<strong>能输入英文</strong>，可随意填写。选择你所放引导的ESP分区，找到Clover文件夹下的<strong>CLOVERX64.efi</strong>文件，选中完成即可。</p>\n<p><code>注意事项：如果未看到CLOVER.efi文件（EasyUEFI下），请重启电脑即可看到</code></p>\n<ol start=\"2\">\n<li><strong>PE下完成引导的设置。</strong></li>\n</ol>\n<p><code>进入PE，然后同样，打开DiskGenius，将**U盘里面的ESP（EFI）分区中Clover**文件夹整个复制到桌面。再**通过Ctrl+V**的方式，粘贴在**Windows启动磁盘的ESP分区中EFI文件夹**下。</code></p>\n<p>（<strong>Windows、macOS在不同磁盘下时</strong>）也可以复制整个EFI文件夹到macOS所在磁盘的ESP分区。<br>新手小白建议前述操作。</p>\n<p>此处的引导建立使用<strong>Bootice</strong>这款软件，选择引导，UEFI设置。引导文件同样选择<strong>CLOVERX64.efi</strong>，名称随意，选择粘贴了引导文件的分区。</p>\n<h1 id=\"安装过程常见问题解答\"><a href=\"#安装过程常见问题解答\" class=\"headerlink\" title=\"安装过程常见问题解答\"></a>安装过程常见问题解答</h1><ol>\n<li>抹除时出现“磁盘空间不足，无法完成操作”怎么办？</li>\n</ol>\n<p>``答：这是你在<strong>电脑调试阶段</strong>中，给ESP分区空间预留不足200MB，需要重新操作，将空间扩大`。</p>\n<ol start=\"2\">\n<li>怎么才知道我的磁盘是不是GPT格式呢？`</li>\n</ol>\n<p><code>答：当你在DiskGenius专业版软件中，右键该磁盘时，若“转换到GUID格式”为**灰色不可选中**，则表示该磁盘格式为GPT。</code></p>\n<ol start=\"3\">\n<li>为什么我在安装的时候找不到我的硬盘？</li>\n</ol>\n<p><code>答：若为三星的PM981或者PM981a，或者其他的出名不可安装macOS（百度可以知道是否难以安装）的硬盘，建议小白放弃。愿意折腾的话可以查看这篇我的[**PM981安装教程**](http://bbs.pcbeta.com/viewthread-1814806-1-1.html)（发布在远景），不保证在所有机型上稳定。</code><br><code>若不是上述硬盘，则我建议更新clover版本，对小白最简单的方式是，更换镜像版本或者镜像源。</code></p>\n<ol start=\"4\">\n<li>BIOS设置时找不到一模一样的选项怎么办？</li>\n</ol>\n<p><code>答：并不是所有的BIOS都有我所提到的选项名称，这很正常。你需要找到意思相近的名称项，设置好就可以。如有的BIOS将**Security Boot**叫做**Security/安全启动**，名称变化很正常。**只有DVMT Pre-allocated项**，大部分笔记本BIOS会选择隐藏，可以不用纠结。其余选项都应存在你的BIOS中，并需要设置好。</code></p>\n<ol start=\"5\">\n<li>安装时，-v滚代码卡apfs_moudle_start怎么办（一般是10.15的问题）</li>\n</ol>\n<p>答：打补丁如下<br><code>Comment                   Find*[HEX]      Replace[HEX]</code><br><code>**change EC0 to EC   4543305f        45435f5f**</code><br><code>change H_EC to EC     485f4543         45435f5f</code><br><code>change ECDV to EC    45434456        45435f5f</code></p>\n<p>一般只需选第一条加粗补丁即可</p>\n<ol start=\"6\">\n<li>安装10.15时，卡<strong>VoodooPS2Controller</strong>怎么办(一般是<strong>10.15</strong>的问题)</li>\n</ol>\n<p>到<strong>EFI/CLOVER/kexts/others/<strong>目录下，删除</strong>VoodooPS2Controller.kexts</strong></p>\n<h1 id=\"其他\"><a href=\"#其他\" class=\"headerlink\" title=\"其他\"></a>其他</h1><p>我希望各位小白，在明确步骤后，可以通过自己百度、找帖子之后解决掉大部分问题，之后才是找大神寻求帮助。</p>\n<p><strong>我比较推荐以下方式问问题：</strong></p>\n<ol>\n<li>这个我应该怎么做？Not 大神帮我搞定！</li>\n<li>这个在哪里有具体操作？Not 大神帮我搞定！</li>\n</ol>\n<p><strong>帮完忙，比较喜欢这种回复：</strong></p>\n<ol>\n<li>我知道了，谢谢你！Not 好/嗯/哦。</li>\n</ol>\n<p>如果希望别人帮你安装，自己不想动手不想研究的话，希望你还是左转淘宝或者别接触黑苹果以及玩黑果的人，白嫖可耻，时间宝贵。</p>\n<h1 id=\"感谢\"><a href=\"#感谢\" class=\"headerlink\" title=\"感谢\"></a>感谢</h1><p>感谢<code>QQ群：706372078</code>里的群主Eternal Qiu<br>本人QQ：<code>3467365604</code></p>\n","feature":true,"text":"以下内容基本摘自Eternal Qiu的博客，日后准备进行修改链接：https://blog.qiuxiangzhi.top/2019/07/15/macOS-Guide/ 前言我打算写一个教程来引导小白入坑，不在本文介绍那些复杂需要折腾的驱动问题。 警告请注意，本贴只做技术与学...","link":"","photos":[],"count_time":{"symbolsCount":"4.3k","symbolsTime":"4 mins."},"categories":[{"name":"技术","slug":"技术","count":10,"path":"api/categories/技术.json"}],"tags":[{"name":"黑苹果","slug":"黑苹果","count":7,"path":"api/tags/黑苹果.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%89%8D%E8%A8%80\"><span class=\"toc-text\">前言</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E8%AD%A6%E5%91%8A\"><span class=\"toc-text\">警告</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E8%B5%84%E6%BA%90%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C\"><span class=\"toc-text\">资源准备工作</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E7%94%B5%E8%84%91%E8%B0%83%E8%AF%95%E5%B7%A5%E4%BD%9C\"><span class=\"toc-text\">电脑调试工作</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%AE%89%E8%A3%85%E8%B0%83%E8%AF%95%E8%BF%87%E7%A8%8B\"><span class=\"toc-text\">安装调试过程</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#macOS%E3%80%81Windows-%E5%8F%8C%E5%BC%95%E5%AF%BC\"><span class=\"toc-text\">macOS、Windows 双引导</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%AE%89%E8%A3%85%E8%BF%87%E7%A8%8B%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E8%A7%A3%E7%AD%94\"><span class=\"toc-text\">安装过程常见问题解答</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%85%B6%E4%BB%96\"><span class=\"toc-text\">其他</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E6%84%9F%E8%B0%A2\"><span class=\"toc-text\">感谢</span></a></li></ol>","author":{"name":"神楽小白(GZ小白)的部落阁","slug":"blog-author","avatar":"https://i.loli.net/2021/05/15/QdcDz8P721AfEMR.jpg","link":"/","description":"这是一个正常的人(确信)!","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"github":{"icon":"/svg/github.svg","link":"https://github.com/GZXiaoBai"},"bilibili":{"icon":"/svg/bilibili.svg","link":"https://space.bilibili.com/355276854"}}}},"mapped":true,"prev_post":{"title":"进阶：电池热补丁（Battery-Hotpatch）之路","uid":"0b0d58a227f41342a3d42cd20e4f9a94","slug":"进阶：电池热补丁（Battery-Hotpatch）之路","date":"2020-05-16T14:12:07.000Z","updated":"2021-05-08T11:46:01.600Z","comments":true,"path":"api/articles/进阶：电池热补丁（Battery-Hotpatch）之路.json","keywords":null,"cover":"https://i.loli.net/2021/05/02/WEqjSwnGl8LcAQB.png","text":"前言在有了OpenCore的引导后，已经不在推荐使用DSDT了，况且，现在也是主要推广热补丁（HotPatch），热补丁具有比DSDT更好的灵活性，于是便开始写这篇文章了。 准备步骤首先，我们需要下载我提供的电池热补丁的样本（SSDT-BATT.dsl)。同时，我还准备了联想X2...","link":"","photos":[],"count_time":{"symbolsCount":"20k","symbolsTime":"18 mins."},"categories":[{"name":"技术","slug":"技术","count":10,"path":"api/categories/技术.json"}],"tags":[{"name":"黑苹果","slug":"黑苹果","count":7,"path":"api/tags/黑苹果.json"}],"author":{"name":"神楽小白(GZ小白)的部落阁","slug":"blog-author","avatar":"https://i.loli.net/2021/05/15/QdcDz8P721AfEMR.jpg","link":"/","description":"这是一个正常的人(确信)!","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"github":{"icon":"/svg/github.svg","link":"https://github.com/GZXiaoBai"},"bilibili":{"icon":"/svg/bilibili.svg","link":"https://space.bilibili.com/355276854"}}}},"feature":true},"next_post":{"title":"利用GUPC以热补丁定制USB端口","uid":"8988c31c9c6b01303dadfca403bf5e1f","slug":"利用GUPC以热补丁定制USB端口","date":"2021-05-09T06:30:18.000Z","updated":"2021-05-23T07:42:05.033Z","comments":true,"path":"api/articles/利用GUPC以热补丁定制USB端口.json","keywords":null,"cover":"https://i.loli.net/2021/05/22/qZOCU6QIdDzblTL.jpg","text":"前言虽然之前就有用热补丁定制USB端口的方法，但那个方法需要搭配USBAllinject.kext使用，在受到Github中一个issue的启发后，我们发现，可以利用ACPI中的GUPC实现USB端口的热补丁定制。最后，通过咨询了哞大相关问题，发此贴，提供方法。 Github的i...","link":"","photos":[],"count_time":{"symbolsCount":"4.6k","symbolsTime":"4 mins."},"categories":[{"name":"技术","slug":"技术","count":10,"path":"api/categories/技术.json"}],"tags":[{"name":"黑苹果","slug":"黑苹果","count":7,"path":"api/tags/黑苹果.json"}],"author":{"name":"神楽小白(GZ小白)的部落阁","slug":"blog-author","avatar":"https://i.loli.net/2021/05/15/QdcDz8P721AfEMR.jpg","link":"/","description":"这是一个正常的人(确信)!","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"github":{"icon":"/svg/github.svg","link":"https://github.com/GZXiaoBai"},"bilibili":{"icon":"/svg/bilibili.svg","link":"https://space.bilibili.com/355276854"}}}}}}